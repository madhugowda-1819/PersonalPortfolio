{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Portfolio Admin{% endblock %}</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.min.css' %}">
  
  <style>
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Sidebar */
    .sidebar {
      min-width: 250px;
      max-width: 250px;
      background-color: #749dc7;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      padding-top: 70px; /* height of navbar */
      overflow-y: auto;
    }

    .sidebar .nav-link {
      color: #e0dede;
      font-weight: bolder;
    }
    .sidebar .nav-link.active {
      background-color: #0d6efd;
      color: white;
      border-radius: 0.25rem;
    }

    /* Main Content */
    .content {
      margin-left: 250px;
      padding: 70px 20px 20px 20px; /* navbar height + spacing */
      flex-grow: 1;
    }

    /* Top Navbar */
    .navbar-custom {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
    }
  </style>
</head>
<body>

<!-- Top Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary navbar-custom shadow">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="#">Portfolio Admin</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#topNavbar" aria-controls="topNavbar"
            aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="topNavbar">
  <ul class="navbar-nav ms-auto align-items-center">

    <li class="nav-item me-3 text-white small">
      Logged in as
      <strong>{{ request.user.get_full_name|default:request.user.username }}</strong>
    </li>

    <li class="nav-item">
  <a class="btn btn-sm btn-outline-light"
     href="{% url 'adminlogout' %}">
    Logout
  </a>
</li>

  </ul>
</div>
</nav>

<!-- Sidebar -->
<div class="sidebar d-flex flex-column p-3">
  
  <ul class="nav nav-pills flex-column mt-5">
    <li class="nav-item">
      <a class="nav-link {% if request.path == '/admin/dashboard/' %}active{% endif %}" href="{% url 'dashboard' %}">Dashboard</a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if request.path == '/admin/home/' %}active{% endif %}" href="{% url 'home' %}">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if request.path == '/admin/about/' %}active{% endif %}" href="{% url 'about' %}">About</a>
    </li>

     <li class="nav-item">
      <a class="nav-link {% if request.path == '/admin/qualifications/' %}active{% endif %}" href="{% url 'qualifications' %}">Qualifications</a>
    </li>

    <li class="nav-item">
  <a class="nav-link d-flex justify-content-between align-items-center"
     data-bs-toggle="collapse"
     href="#skillsMenu"
     role="button"
     aria-expanded="false"
     aria-controls="skillsMenu">
    Skills
    <span>â–¾</span>
  </a>

  <div class="collapse
       {% if 'skills' in request.path %}show{% endif %}"
       id="skillsMenu">

    <ul class="nav flex-column ms-3 mt-2">

      <li class="nav-item">
        <a class="nav-link {% if 'languages' in request.path %}active{% endif %}"
           href="{% url 'languages' %}">
          Programming Languages
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if 'frameworks' in request.path %}active{% endif %}"
           href="{% url 'frameworkapi' %}">
          Frameworks & APIs
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if 'databases' in request.path %}active{% endif %}"
           href="{% url 'databases' %}">
          Databases
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if 'tools' in request.path %}active{% endif %}"
           href="{% url 'toolsplatforms' %}">
          Tools & Platforms
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if 'webtech' in request.path %}active{% endif %}"
           href="{% url 'webtech' %}">
          Web Technologies
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link {% if 'concepts' in request.path %}active{% endif %}"
           href="{% url 'coreconcepts' %}">
          Core Concepts
        </a>
      </li>

    </ul>
  </div>
</li>

    <li class="nav-item">
      <a class="nav-link {% if request.path == '/admin/projects/' %}active{% endif %}" href="{% url 'projects' %}">Projects</a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if request.path == '/admin/experience/' %}active{% endif %}" href="{% url 'experience' %}">Experience</a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if request.path == '/admin/contact/' %}active{% endif %}" href="{% url 'contact' %}">Contact</a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if request.path == '/admin/sociallinks/' %}active{% endif %}" href="{% url 'socialmedia' %}">Social Links</a>
    </li>
  </ul>
</div>

<!-- Main Content -->
<div class="content">
  {% block content %}
  
  {% endblock %}
</div>

<!-- Bootstrap JS -->
<script src="{% static 'bootstrap/js/bootstrap.bundle.min.js' %}"></script>
</body>
</html>
