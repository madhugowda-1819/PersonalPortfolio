{% extends "myportfolio/admin/nav.html" %}
{% load static %}

{% block title %}Qualifications{% endblock %}

{% block content %}
<div class="container-fluid mt-4">

  <h2 class="mb-4">Qualifications</h2>

  <!-- Add / Update Qualification Form -->
  <div class="card shadow-sm mb-5">
    <div class="card-header bg-primary text-white">
      <h5 class="mb-0">{% if qualification %}Update Qualification{% else %}Add Qualification{% endif %}</h5>
    </div>
    <div class="card-body">
      <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Institution -->
        <div class="mb-3">
          <label for="institution" class="form-label fw-bold">Institution</label>
          <input type="text" class="form-control" id="institution" name="institution" placeholder="Enter institution name"
                 value="{% if qualification %}{{ qualification.institution }}{% endif %}" required>
        </div>

        <!-- Degree -->
        <div class="mb-3">
          <label for="degree" class="form-label fw-bold">Degree</label>
          <input type="text" class="form-control" id="degree" name="degree" placeholder="Enter degree name"
                 value="{% if qualification %}{{ qualification.degree }}{% endif %}" required>
        </div>

        <!-- Specialization -->
        <div class="mb-3">
          <label for="specialization" class="form-label fw-bold">Specialization</label>
          <input type="text" class="form-control" id="specialization" name="specialization" placeholder="Enter specialization"
                 value="{% if qualification %}{{ qualification.specialization }}{% endif %}">
        </div>

        <!-- Period -->
        <div class="mb-3">
          <label for="period" class="form-label fw-bold">Period</label>
          <input type="text" class="form-control" id="period" name="period" placeholder="e.g., 2018 - 2022"
                 value="{% if qualification %}{{ qualification.period }}{% endif %}" required>
        </div>

        <!-- Scored -->
        <div class="mb-3">
          <label for="scored" class="form-label fw-bold">Scored</label>
          <input type="text" class="form-control" id="scored" name="scored" placeholder="(e.g., 8.5 CGPA)"
                 value="{% if qualification %}{{ qualification.scored }}{% endif %}">
        </div>

        <!-- Description -->
        <div class="mb-3">
          <label for="description" class="form-label fw-bold">Description</label>
          <textarea class="form-control" id="description" name="description" rows="4"
                    placeholder="Enter qualification description" required>{% if qualification %}{{ qualification.description }}{% endif %}</textarea>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary">{% if project %}Update{% else %}Add{% endif %}</button>
      </form>
    </div>
  </div>

  <!-- Existing Projects Table -->
  <div class="card shadow-sm">
    <div class="card-header bg-dark text-white">
      <h5 class="mb-0">All Projects</h5>
    </div>
    <div class="card-body table-responsive">
      <table class="table table-bordered table-hover">
        <thead class="table-light">
          <tr>
            <th>#</th>
            <th>Institution</th>
            <th>Degree</th>
            <th>Specialization</th>
            <th>Period</th>
            <th>Scored</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for p in qualifications_list %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ p.institution }}</td>
            <td>{{ p.degree }}</td>
            <td>{{ p.specialization }}</td>
            <td>{{ p.period }}</td>
            <td>{{ p.scored }}</td>
           
            <td>
              <a href="{% url 'edit_qualification' p.id %}" class="btn btn-sm btn-primary">Edit</a>
              <a href="{% url 'delete_qualification' p.id %}" class="btn btn-sm btn-danger"
                 onclick="return confirm('Are you sure you want to delete this qualification?');">Delete</a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="7" class="text-center">No qualifications added yet.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

</div>
{% endblock %}
